---
import type { CollectionEntry } from "astro:content";
import Layout from "./Layout.astro";
import ResponsiveImage from "../components/ResponsiveImage.astro";

type Props = CollectionEntry<"oppskrifter">["data"];

const { title, tags, ingredienser, images, tattFra } = Astro.props;
---

<Layout
  description={`Oppskrift for: ${title}`}
  tab_title={title}
  {images}
  {title}
>
  <section class="prose prose-lg mx-auto px-2 py-4 lg:prose-xl">
    {
      tattFra && (
        <p class="rounded bg-gray-300 p-2 text-base  sm:w-5/6 md:w-2/3">
          <span class="text-base font-bold">NB! </span>Denne oppskriften er fra
          eller basert p√• denne:
          <span>
            <a href={tattFra} class="font-bold underline underline-offset-1">
              {tattFra}
            </a>
          </span>
        </p>
      )
    }
    <slot />
  </section>
  <div class="flex max-w-4xl flex-col justify-center gap-4">
    {
      images &&
        images.map((img) => (
          <ResponsiveImage
            src={img}
            sizes={[400, 700, 900]}
            alt="bildet av oppskriften"
            format="avif"
          />
        ))
    }
  </div>
</Layout>
